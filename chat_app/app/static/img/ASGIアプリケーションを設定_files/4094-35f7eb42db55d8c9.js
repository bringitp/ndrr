"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4094],{14094:function(e,t,a){a.d(t,{FB:function(){return eB},ZP:function(){return eN},wS:function(){return eT}});var n,s,o=a(22830),r=a(35250),i=a(87758),c=a(70079),l=a(88798),d=a(21739),u=a(32542),g=a(77010),h=a(6948),p=a(32877),f=a(31621),m=a(46020),x=a(54118),y=a(78931),v=a(61888),k=a(70671),b=a(94968),w=a(52390),j=a(21722),C=a(39324),M=a(71209),B=a(75883),T=a(12155),N=a(60554),A=a(1454),_=a(32004),S=a(62509),P=a(97747),Z=a(89368),I=a(1821);function W(){var e=(0,w.Go)(),t=(0,N.useRouter)(),a=(0,k.Z)(),n=(0,S.kP)().session,s=(0,o._)((0,c.useState)(),2),i=s[0],l=s[1],d=null!==e;if((0,c.useEffect)(function(){d||l(void 0)},[d]),!d)return null;var u=(0,r.jsx)("span",{className:"font-medium",children:e.ownerEmail}),g=e.hasActiveRequest||"success"===i;return(0,r.jsx)(Z.Z,{isOpen:!0,onClose:v.noop,type:"warning",size:"custom",className:"max-w-3xl",title:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("div",{className:"text-lg",children:(0,r.jsx)(_.Z,(0,M._)((0,C._)({},q.title),{values:{workspaceName:e.accountName}}))}),(0,r.jsx)("div",{className:"text-sm font-normal",children:(0,r.jsx)(_.Z,(0,C._)({},q.subtitle))})]}),icon:A.UIZ,primaryButton:(0,r.jsx)(P.ZP.Button,{onClick:(0,j._)(function(){return(0,B.Jh)(this,function(t){switch(t.label){case 0:l("requesting"),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,w.ZP.requestWorkspaceAccess(n.accessToken,e.accountId)];case 2:return t.sent().success&&l("success"),[3,4];case 3:return t.sent(),l("error"),[3,4];case 4:return[2]}})}),color:"primary",title:a.formatMessage(q.requestAccessButton),disabled:g}),secondaryButton:(0,r.jsx)(P.ZP.Button,{onClick:(0,j._)(function(){var e;return(0,B.Jh)(this,function(a){switch(a.label){case 0:return[4,(0,T.signOut)({redirect:!1,callbackUrl:"/auth/login?next=".concat(encodeURIComponent(t.asPath))})];case 1:return e=a.sent(),t.push(e.url),[2]}})}),color:"danger",title:a.formatMessage(q.signOutButton)}),children:(0,r.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,r.jsx)("div",{children:(0,r.jsx)(_.Z,(0,M._)((0,C._)({},q.emailBelongsToWorkspace),{values:{email:(0,r.jsx)("span",{className:"font-medium",children:e.userEmail})}}))}),(0,r.jsx)("div",{children:g?(0,r.jsx)(_.Z,(0,M._)((0,C._)({},q.activeRequestMessage),{values:{email:u}})):"requesting"===i?(0,r.jsx)(I.Z,{}):"error"===i?(0,r.jsx)(_.Z,(0,M._)((0,C._)({},q.contactWorkspaceAdminEmail),{values:{email:u}})):null})]})})}var q={title:{id:"RequestWorkspaceAccessModal.title",defaultMessage:"Request access to {workspaceName}",description:"Title for request access modal for a workspace"},subtitle:{id:"RequestWorkspaceAccessModal.subtitle",defaultMessage:"ChatGPT Enterprise has been enabled in your workspace",description:"Subtitle for request access modal mentioning ChatGPT Enterprise"},emailBelongsToWorkspace:{id:"RequestWorkspaceAccessModal.emailBelongsToWorkspace",defaultMessage:"{email} belongs to a ChatGPT Enterprise plan but currently has no access.",description:"Message shown telling the user their email is part of an enterprise workspace."},requestWorkspaceAccessMessage:{id:"RequestWorkspaceAccessModal.requestWorkspaceAccessMessage",defaultMessage:"You may request access to the workspace account.",description:"Message telling the user to request access to the workspace."},requestedWorkspaceAccessMessage:{id:"RequestWorkspaceAccessModal.requestedWorkspaceAccessMessage",defaultMessage:"Successfully requested access to the workspace account. Your workspace administrator at {email} may approve the request.",description:"Message telling the user they have requested access to the workspace."},contactWorkspaceAdminEmail:{id:"RequestWorkspaceAccessModal.contactWorkspaceAdminEmail",defaultMessage:"Could not request access. Contact your workspace administrator at {email} to request access to a new workspace account.",description:"Message telling the user who to contact to create a new account for the workspace."},signOutButton:{id:"RequestWorkspaceAccessModal.signOutButton",defaultMessage:"Sign Out",description:"Label for sign out button on modal"},requestAccessButton:{id:"RequestWorkspaceAccessModal.requestAccessButton",defaultMessage:"Request access",description:"Label for request access button on modal"},activeRequestMessage:{id:"RequestWorkspaceAccessModal.activeRequestMessage",defaultMessage:"You have a pending invite request for this workspace. Contact your workspace administrator at {email} to approve your request.",description:"Message telling the user they have an active request for the workspace."}},E=a(25260),L=a(19841),R=a(91530),D=a.n(R),O=a(19579),U=a.n(O),G=a(75641),K=a(88809),H=a(6038),z=a(88327),F=a(32367),Q=a(52696);function J(e){var t=e.workspace,a=(0,S.kP)().session,n=(0,y.ec)(function(e){return e.currentWorkspace}),s=(null==n?void 0:n.id)===t.id,i=(0,o._)((0,c.useState)(!1),2),l=i[0],d=i[1],u=(0,F.Z)().onEnableHistory,g=(0,c.useCallback)((0,j._)(function(){return(0,B.Jh)(this,function(e){return d(!0),y.w_.setCurrentWorkspace(t),u(),(0,K.M)(),[2]})}),[t,u]),h=(0,Q.GA)(t),p=(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)(H.B0,{})});if(t.structure===G.CZ.PERSONAL){if(!(null==a?void 0:a.user))return null;p=(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)(U(),{alt:"Profile",src:a.user.picture,width:38,height:38,className:"flex items-center justify-center rounded-sm"})})}return(0,r.jsxs)(s?"div":"button",{onClick:s?D():g,className:(0,L.default)({"flex w-full items-center gap-2 rounded-lg border border-gray-100 bg-gray-50 p-4 hover:bg-gray-100 focus:bg-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:bg-gray-700":!0,"bg-gray-50 dark:bg-gray-800":s}),children:[(0,r.jsxs)("div",{className:"flex w-full items-center gap-4",children:[p,(0,r.jsx)("div",{className:"inline align-top font-medium",children:h})]}),(0,r.jsx)("div",{className:"flex h-full items-center p-1",children:l?(0,r.jsx)(I.Z,{}):s?(0,r.jsx)(z.ZP,{icon:E.Z,size:"medium"}):(0,r.jsx)(z.ZP,{icon:A.Tfp,size:"medium",className:"my-auto"})})]})}function X(e){var t=e.data.map(function(e){return(0,r.jsx)(J,{workspace:e},e.id)});return(0,r.jsx)("div",{className:"flex w-full flex-col gap-2",children:t})}function Y(){var e,t,a=(0,Q._O)(),n=(0,S.kP)().session,s=null!==(t=null==n?void 0:null===(e=n.user)||void 0===e?void 0:e.email)&&void 0!==t?t:"";if(0===a.length)return null;var o=a.filter(function(e){return e.structure===G.CZ.WORKSPACE});return(0,r.jsx)(Z.Z,{isOpen:!0,onClose:D(),type:"success",size:"normal",title:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(_.Z,(0,C._)({},$.workspaceSwitcherTitle)),(0,r.jsx)("span",{className:"mt-0.5 text-sm text-gray-700 dark:text-gray-400",children:s})]}),children:(0,r.jsxs)("div",{className:"flex w-full flex-col items-center justify-between",children:[(0,r.jsx)(X,{data:a}),(0,r.jsx)("span",{className:"mt-4 text-sm text-gray-700 dark:text-gray-400",children:(0,r.jsx)(_.Z,(0,M._)((0,C._)({},$.workspaceSwitcherDisclaimer),{values:{workspaces:(0,r.jsx)("span",{className:"contents font-bold",children:(0,r.jsx)(b.yX,{value:o.map(function(e){return e.name})})}),numWorkspaces:o.length}}))})]})})}var $=(0,b.vU)({workspaceSwitcherTitle:{id:"workspaceSwitcher.title",defaultMessage:"Select a workspace",description:"title for account switcher modal"},workspaceSwitcherDisclaimer:{id:"workspaceSwitcher.disclaimer",defaultMessage:"You've been added to the {workspaces} {numWorkspaces, plural, one {workspace} other {workspaces}}. You can switch between workspaces at any time.",description:"disclaimer for account switcher modal"}}),V=a(50795),ee=a(82081),et=(0,b.vU)({welcomeBack:{id:"existingUserAgeConfirmationModal.welcomeBack",defaultMessage:"Welcome back, Italy!",description:"Title for the age confirmation modal for Italian users"},ageRequirementsButton:{id:"existingUserAgeConfirmationModal.ageRequirementsButton",defaultMessage:"I meet OpenAI's age requirements",description:"Primary button to confirm the user meets the age requirements"},logoutButton:{id:"existingUserAgeConfirmationModal.logoutButton",defaultMessage:"Log out",description:"Secondary button to log out of the platform"},announcementParagraph1:{id:"existingUserAgeConfirmationModal.announcementParagraph1",defaultMessage:"We’re pleased to resume offering ChatGPT in Italy. To continue on ChatGPT, please confirm that you are 18+ or are 13+ and have consent from your parent or guardian to use ChatGPT.",description:"First paragraph of the announcement, explaining the age requirements"},privacyPolicyLink:{id:"existingUserAgeConfirmationModal.privacyPolicyLink",defaultMessage:"Privacy policy",description:"Link to the privacy policy"},helpCenterArticleLink:{id:"existingUserAgeConfirmationModal.helpCenterArticleLink",defaultMessage:"this help center article",description:"Link to the help center article about ChatGPT development"},announcementParagraph2:{id:"existingUserAgeConfirmationModal.announcementParagraph2",defaultMessage:"For information about how we collect and use personal data, please see our {privacyPolicyLink}. For information about how we develop and train ChatGPT, please see {helpCenterArticleLink}.",description:"Second paragraph of the announcement, providing links to more information"}}),ea="2023-04-25",en="".concat("oai/apps/hasSeenAgeConfirmationModal","/").concat(ea);function es(e){var t=e.onClose,a=(0,k.Z)(),n=(0,c.useCallback)(function(){h.m.setItem(en,!0),t()},[t]);return(0,c.useEffect)(function(){V.o.logEvent(ee.a.ageConfirmationModal,{content:ea})},[]),(0,r.jsx)(Z.Z,{isOpen:!0,onClose:v.noop,type:"success",title:a.formatMessage(et.welcomeBack),primaryButton:(0,r.jsx)(P.ZP.Button,{title:a.formatMessage(et.ageRequirementsButton),color:"primary",onClick:n}),secondaryButton:(0,r.jsx)(P.ZP.Button,{title:a.formatMessage(et.logoutButton),color:"light",onClick:function(){V.o.logEvent(ee.a.clickLogOut,{eventSource:"mouse"}),(0,S.w7)()},className:"border-gray-800 hover:border-gray-700"}),children:(0,r.jsx)(eo,{})})}var eo=function(){var e=(0,k.Z)();return(0,r.jsx)("div",{className:"mb-6 mt-4 sm:mt-6",children:(0,r.jsxs)("div",{className:"prose prose-invert text-base text-gray-500",children:[(0,r.jsx)("p",{children:(0,r.jsx)(_.Z,(0,C._)({},et.announcementParagraph1))}),(0,r.jsx)("p",{children:(0,r.jsx)(_.Z,(0,M._)((0,C._)({},et.announcementParagraph2),{values:{privacyPolicyLink:(0,r.jsx)("a",{href:"https://openai.com/policies/privacy-policy",target:"_blank",className:"text-gray-500 underline",rel:"noreferrer",children:e.formatMessage(et.privacyPolicyLink)}),helpCenterArticleLink:(0,r.jsx)("a",{href:"https://help.openai.com/en/articles/7842364-how-chatgpt-and-our-language-models-are-developed",target:"_blank",className:"text-gray-500 underline",rel:"noreferrer",children:e.formatMessage(et.helpCenterArticleLink)})}}))})]})})},er=a(77311),ei="oai/apps/hasSeenOnboarding";(n=s||(s={})).Personal="chat",n.Workspace="workspace";var ec=function(e){var t=(0,c.useCallback)(function(){h.m.setItem("".concat(ei,"/").concat(e),new Date().toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"}))},[e]),a=(0,o._)((0,c.useState)(null),2),n=a[0],s=a[1];(0,c.useEffect)(function(){var t=h.m.getItem("".concat(ei,"/").concat(e));s(!!t&&t)},[e]);var r=(0,c.useCallback)(function(){return n?new Date(!0===n?"2022-12-14":n):n},[n]);return(0,c.useMemo)(function(){return{setHasSeenOnboarding:t,getHasSeenOnboardingDate:r}},[r,t])};function el(e){var t=e.onClose,a=e.scope,n=ec(a).setHasSeenOnboarding,o=(0,c.useCallback)(function(){t(!0),n()},[t,n]);return a===s.Personal?(0,r.jsx)(eu,{onSubmit:o}):(0,r.jsx)(eg,{onSubmit:o})}var ed=function(e){var t=e.icon,a=e.title,n=e.body;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex flex-row items-center gap-1.5",children:[(0,r.jsx)("div",{children:t}),(0,r.jsx)("div",{className:"font-medium text-token-text-primary",children:a})]}),(0,r.jsx)("div",{className:"text-sm text-token-text-secondary",children:n})]})},eu=function(e){var t=e.onSubmit,a=(0,k.Z)();return(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsx)(ed,{icon:(0,r.jsx)(z.wP,{isSolid:!0,className:"h-5 w-5 text-green-600"}),title:(0,r.jsx)(_.Z,(0,C._)({},eh.askAway)),body:(0,r.jsx)(_.Z,(0,C._)({},eh.askAwayBody))}),(0,r.jsx)(ed,{icon:(0,r.jsx)(z.NJ,{className:"text-brand-purple"}),title:(0,r.jsx)(_.Z,(0,C._)({},eh.warning)),body:(0,r.jsx)(_.Z,(0,M._)((0,C._)({},eh.warningBody),{values:{article:function(e){return(0,r.jsx)("a",{href:"https://help.openai.com/en/articles/7039943-data-usage-for-consumer-services-faq",target:"_blank",className:"underline",rel:"noopener noreferrer",children:e})}}}))}),(0,r.jsx)(ed,{icon:(0,r.jsx)(z.CJ,{className:"text-orange-300"}),title:(0,r.jsx)(_.Z,(0,C._)({},eh.accuracy)),body:(0,r.jsx)(_.Z,(0,C._)({},eh.accuracyBody))}),(0,r.jsx)("div",{className:"flex flex-row justify-end",children:(0,r.jsx)(P.mH,{title:a.formatMessage(eh.gettingStartedButton),onClick:t,color:"primary"})})]})},eg=function(e){var t=e.onSubmit,a=(0,k.Z)(),n=(0,y.ec)(function(e){return e.currentWorkspace}),s=null==n?void 0:n.name;return(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-token-text-primary",children:null!=s?(0,r.jsx)(_.Z,(0,C._)({values:{workspaceName:s}},eh.workspaceWelcome)):(0,r.jsx)(_.Z,(0,C._)({},eh.workspaceWelcomeNoName))}),(0,r.jsx)("div",{className:"text-sm text-token-text-secondary",children:(0,r.jsx)(_.Z,(0,C._)({},eh.workspaceWelcomeBody))})]}),(0,r.jsx)(ed,{icon:(0,r.jsx)(z.ZP,{icon:er.Z,className:"h-5 w-5 text-brand-purple"}),title:(0,r.jsx)(_.Z,(0,C._)({},eh.workUse)),body:(0,r.jsx)(_.Z,(0,C._)({},eh.workUseBody))}),(0,r.jsx)(ed,{icon:(0,r.jsx)(z.wP,{isSolid:!0,className:"h-5 w-5 text-green-600"}),title:(0,r.jsx)(_.Z,(0,C._)({},eh.askAway)),body:(0,r.jsx)(_.Z,(0,C._)({},eh.askAwayBody))}),(0,r.jsx)(ed,{icon:(0,r.jsx)(z.CJ,{className:"text-orange-300"}),title:(0,r.jsx)(_.Z,(0,C._)({},eh.accuracy)),body:(0,r.jsx)(_.Z,(0,C._)({},eh.accuracyBody))}),(0,r.jsx)("div",{className:"flex flex-row justify-end",children:(0,r.jsx)(P.mH,{title:a.formatMessage(eh.gettingStartedButton),onClick:t,color:"primary"})})]})},eh=(0,b.vU)({askAway:{id:"onboarding.askAway",defaultMessage:"Ask away",description:"Title for the tip about what ChatGPT can do"},askAwayBody:{id:"onboarding.askAwayBody",defaultMessage:"ChatGPT can answer questions, help you learn, write code, brainstorm together, and much more.",description:"Body copy for the tip about what ChatGPT can do"},warning:{id:"onboarding.warning",defaultMessage:"Don’t share sensitive info",description:"Title for the warning about ChatGPT traning"},warningBody:{id:"onboarding.warningBody",defaultMessage:"Chat history may be reviewed or used to improve our services. Learn more about your choices in our <article>Help Center</article>.",description:"Body copy for the warning about ChatGPT traning"},accuracy:{id:"onboarding.accuracy",defaultMessage:"Check your facts",description:"Title for the warning about ChatGPT inaccuracy"},accuracyBody:{id:"onboarding.accuracyBody",defaultMessage:"While we have safeguards, ChatGPT may give you inaccurate information. It’s not intended to give advice.",description:"Body copy for the warning about ChatGPT inaccuracy"},gettingStartedButton:{id:"onboarding.gettingStartedButton",defaultMessage:"Okay, let’s go",description:"Button to accept the getting started modal"},workspaceWelcome:{id:"onboarding.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} Workspace",description:"Introduction welcome for workspace onboarding"},workspaceWelcomeNoName:{id:"onboarding.workspaceWelcomeNoName",defaultMessage:"Welcome to the your Workspace",description:"Introduction welcome for workspace onboarding when no Workspace name is available"},workspaceWelcomeBody:{id:"onboarding.workspaceWelcomeBody",defaultMessage:"Here you can use our latest models, with more capabilities, and fewer limits.",description:"Introduction welcome body for workspace onboarding"},workUse:{id:"onboarding.workUse",defaultMessage:"Made for use at work",description:"Title for the warning about ChatGPT business workspace use"},workUseBody:{id:"onboarding.workUseBody",defaultMessage:"By default, chats in this workspace are not used to train our AI models.",description:"Body copy for the warning about ChatGPT business workspace use"}}),ep=function(e){var t=e.onClose,a=(0,k.Z)();return(0,r.jsx)(Z.Z,{isOpen:!0,onClose:v.noop,type:"success",title:"ChatGPT",description:a.formatMessage(ex.personalOnboardingSubheading),children:(0,r.jsx)(el,{onClose:t,scope:s.Personal})})},ef=function(e){var t=e.onClose;return(0,r.jsx)(Z.Z,{isOpen:!0,onClose:v.noop,type:"success",title:"ChatGPT",description:"Enterprise Edition",children:(0,r.jsx)(el,{onClose:t,scope:s.Workspace})})};function em(e){var t,a,n=e.userCountry,i=(0,o._)((0,c.useState)(0),2),l=i[0],d=i[1],u=ec(s.Personal).getHasSeenOnboardingDate,g=ec(s.Workspace).getHasSeenOnboardingDate,p=(0,y.ec)(y.F_.isBusinessWorkspace),f=(t=(0,y.hz)(),a=!!h.m.getItem(en),0===t.size?"loading":"IT"!==n||a?"hide":"show"),m=(0,y.$T)(),x=(0,w.Go)(),v=(0,y.ec)(y.F_.workspaceId),k=(0,y.ec)(y.F_.hasMultipleWorkspaces)&&null==v,b=(0,c.useMemo)(function(){return[{Modal:Y,getModalState:function(){return m?"loading":k?"show":"hide"}},{Modal:W,getModalState:function(){return m?"loading":null!==x?"show":"hide"}},{Modal:es,getModalState:function(){return f}},{Modal:ep,getModalState:function(){if(p)return"hide";var e=u();return null===e?"loading":!1===e?"show":"hide"}},{Modal:ef,getModalState:function(){if(!p)return"hide";var e=g();return null===e?"loading":!1===e?"show":"hide"}}]},[u,g,p,f,m,x,k]);(0,c.useEffect)(function(){b[l]&&"hide"===b[l].getModalState()&&d(b.findIndex(function(e){return"hide"!==e.getModalState()}))},[l,b]);var j=b[l];if(null==j)return null;var C=j.getModalState();if("loading"===C)return null;"hide"===C&&d(function(e){return e+1});var M=b[l].Modal;return(0,r.jsx)(M,{onClose:function(){d(function(e){return e+1})}})}var ex=(0,b.vU)({personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started",description:"Subheading for the Personal onbaording modal"}}),ey=a(67273),ev=a(6780),ek=a(10664),eb=function(e){var t=e.action;return(0,r.jsxs)("div",{className:"flex items-center justify-between overflow-hidden text-gray-600 dark:text-gray-300",children:[(0,r.jsx)("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:(0,r.jsx)("div",{className:"truncate",children:(0,r.jsx)(_.Z,(0,C._)({},t.actionMessageDescriptor))})}),(0,r.jsx)("div",{className:"ml-3 flex flex-row gap-2",children:(0,ek.A3)(t.keyboardBinding).map(function(e,a){return(0,r.jsx)(ew,{keyName:e},"".concat(t.key,"-").concat(a))})})]})},ew=function(e){var t=e.keyName,a=(0,L.default)("my-2 flex h-8 items-center justify-center rounded-[4px] border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300");return t.length>1?t.length>3?(0,r.jsx)("div",{className:(0,L.default)(a,"min-w-[50px]"),children:(0,r.jsx)("span",{className:"text-xs",children:t})}):(0,r.jsx)("div",{className:(0,L.default)(a,"min-w-[32px]"),children:(0,r.jsx)("span",{className:"text-xs",children:t})}):(0,r.jsx)("div",{className:(0,L.default)(a,"min-w-[32px]"),children:(0,r.jsx)("span",{className:"text-sm",children:t})})},ej=(0,b.vU)({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts",description:"Title of the keyboard shortcuts modal"}}),eC=function(){var e=(0,k.Z)(),t=(0,m.tN)(function(e){return e.activeModals.has(m.B.KeyboardActions)}),a=function(){m.vm.closeModal(m.B.KeyboardActions)},n=(0,ek.JS)(),s=(0,c.useMemo)(function(){var e=Math.ceil(n.length/2);return[n.slice(0,e),n.slice(e)]},[n]);return(0,r.jsx)(Z.Z,{isOpen:t,onClose:a,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",closeButton:(0,r.jsx)(P.ZP.CloseButton,{onClose:a}),title:e.formatMessage(ej.keyboardActionsModalTitle),children:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:s.map(function(e,t){return(0,r.jsx)("div",{className:"flex flex-col overflow-hidden",children:e.map(function(e){return(0,r.jsx)(eb,{action:e},e.key)})},"col-".concat(t))})})})})},eM=a(15610),eB=Symbol("invalid path");function eT(e){var t,a=e.split(/[#?]/)[0];if("/"!==a){var n=/\/c\/([a-f0-9-]+)/.exec(a);return null!==(t=null==n?void 0:n[1])&&void 0!==t?t:eB}}function eN(e){var t=e.urlThreadId,a=e.clientThreadId,n=e.isUserInCanPayGroup,s=e.serviceStatus,v=e.serviceAnnouncement,k=e.userCountry,b=(0,o._)((0,c.useState)(function(){return void 0!==t?t:void 0!==a?a:(0,f.OX)()}),2),w=b[0],j=b[1];void 0!==t&&w!==t&&j(t),void 0!==t||(0,f.Zz)(w)||j((0,f.OX)());var C=(0,y.$T)(),M=(0,y.WY)(),B=(0,y.ec)(y.F_.workspaceId),T=(0,d.g)(function(e){return e.updateFlagValue}),N=(0,y.hz)(),A=N.has(p.PL),_=N.has(p.rX);(0,c.useEffect)(function(){A&&(g.Z.setPrefetchEnabled(_),g.Z.gatherData())},[A,_]),(0,c.useEffect)(function(){void 0!==n&&T("isUserInCanPayGroup",n)},[T,n]),(0,c.useEffect)(function(){(null==s?void 0:s.type)&&!1===M&&l.m.warning(s.message,{hasCloseButton:!0,duration:5})},[M,null==s?void 0:s.message,null==s?void 0:s.type]);var S=(0,c.useRef)(!1);(0,c.useEffect)(function(){if(!C){var e=M?v.paid:v.public;if((null==e?void 0:e.type)&&(null==e?void 0:e.message)&&!S.current){S.current=!0;var t=e.message,a={hasCloseButton:!0,duration:15};switch(e.type){case"danger":l.m.danger(t,a);break;case"info":l.m.info(t,a);break;case"warning":l.m.warning(t,a)}}}},[v,C,M]);var P=(0,m.tN)(function(e){return e.activeModals.has(m.B.TempBrowseToast)});return(0,r.jsxs)(u.gB.Provider,{value:null,children:[(0,r.jsx)(em,{userCountry:k},B),(0,r.jsx)(eC,{}),(0,r.jsx)(ev.Z,{clientThreadId:w,setClientThreadId:j}),(0,r.jsxs)(i.zt,{children:[(0,r.jsxs)(i.fC,{className:"grid max-w-sm grid-cols-[auto_max-content] items-center gap-x-[15px] rounded-lg bg-white p-[15px] shadow-xs [grid-template-areas:_'title_action'_'description_action'] radix-state-closed:animate-hide radix-state-open:animate-slideIn dark:bg-gray-950 md:max-w-[390px]",open:P,children:[(0,r.jsxs)(i.Dx,{className:"text-slate12 mb-[5px] text-[15px] font-medium [grid-area:_title]",children:["We've temporarily disabled the Browse with Bing ",(0,eM.V)("beta")," feature"]}),(0,r.jsxs)(i.dk,{className:"text-slate11 m-0 text-[13px] leading-[1.3] [grid-area:_description]",children:["Read the"," ",(0,r.jsx)("a",{href:"https://help.openai.com/articles/8077698-how-do-i-use-chatgpt-browse-with-bing-to-search-the-web",target:"_blank",rel:"noreferrer",className:"cursor-pointer underline",children:"Help Center article"}),"."]}),(0,r.jsx)(i.aU,{altText:"Dismiss notification",asChild:!0,children:(0,r.jsx)(ey.z,{color:"neutral",size:"small",onClick:function(){m.vm.closeModal(m.B.TempBrowseToast),h.m.setItem(x.DN,"true")},children:"Dismiss"})}),(0,r.jsx)(i.x8,{})]}),(0,r.jsx)(i.l_,{className:"z-100 fixed bottom-0 right-0 m-0 flex  max-w-[100vw] list-none flex-col gap-[10px] p-[var(--viewport-padding)] outline-none [--viewport-padding:_25px]"})]})]})}},6780:function(e,t,a){a.d(t,{Z:function(){return S}});var n=a(39324),s=a(35250),o=a(13995),r=a(60554),i=a(70079),c=a(1454),l=a(32004),d=a(94968),u=a(52390),g=a(31621),h=a(46020),p=a(78931),f=a(32542),m=a(10664),x=a(33669),y=a(2166),v=a(41932),k=a(61402),b=a(80267),w=a(88327),j=a(95782),C=a(82816),M=a(70293),B=a(82277),T=a(13090),N=a(82536),A=a(2295),_=a(42569);function S(e){var t=e.clientThreadId,a=e.setClientThreadId,n=e.initiallyHighlightedMessageId,l=e.continueConversationUrl,d=null!==(0,i.useContext)(f.gB);(0,g.ax)(t);var y=(0,g.XK)(t),v=(0,r.useRouter)(),S=(0,p.hz)(),Z=(0,g.UL)(t),I=(0,i.useContext)(f.QL).historyDisabled,W=(0,_.Xy)(Z.lastModelUsed,t),q=(0,o.NL)();(0,i.useEffect)(function(){return g.tQ.retainThread(t),function(){setTimeout(function(){q.invalidateQueries(["conversation",t])},0),g.tQ.releaseThread(t)}},[t,q]),(0,i.useEffect)(function(){h.vm.closeSharingModal()},[t,y]);var E=(0,i.useCallback)(function(){a((0,g.OX)()),v.replace(W.tags.includes(_.S.GPT_4)?"/":"/?model=".concat(W.id),void 0,{shallow:!0})},[a,W.tags,W.id,v]);(0,m.yx)({resetThreadAction:E,clientThreadId:t});var L=(0,h.tN)(function(e){return e.activeSidebar}),R=(0,x.w$)();(0,i.useEffect)(function(){return function(){k.hx.abortAllRequests()}},[t]);var D=(0,A.iF)(),O=(0,i.useCallback)(function(){u.ZP.deleteConversations().then(function(){D()}),E(),"/"!==v.asPath&&v.replace({pathname:"/"},void 0,{shallow:!0})},[E,D,v]),U=(0,i.useRef)(Z.threadId);return(0,i.useEffect)(function(){Z.threadId!==U.current&&(h.vm.setActiveSidebar(!1),U.current=Z.threadId),k.hx.clear()},[Z.threadId]),(0,s.jsxs)(B.Z,{showNavigation:!d,renderTitle:(0,s.jsx)(P,{clientThreadId:t}),renderMobileHeaderRightContent:(0,s.jsx)(T.js,{onClick:E,children:(0,s.jsx)(w.ZP,{icon:I?c.Bw1:c.OvN,size:"medium"})}),renderSidebar:(0,s.jsx)(j.Z,{onDeleteHistory:O,onNewThread:E,children:(0,s.jsx)(b.Z,{activeId:I?void 0:y,onNewThread:E})}),children:[(0,s.jsx)(N.Z,{initialThreadData:Z,clientThreadId:t,handleResetThread:E,initiallyHighlightedMessageId:n,continueConversationUrl:l},t),(0,s.jsxs)(B.Z.Sidebars,{children:[S.has("debug")&&"debug"===L&&(0,s.jsx)(M.fv,{clientThreadId:t,slideOver:!R,onClose:function(){return h.vm.toggleActiveSidebar("debug")},isOpen:!0}),S.has("tools3_dev")&&(0,s.jsx)(C.ZP,{slideOver:!R})]})]})}function P(e){var t,a=e.clientThreadId,o=null!==(t=g.tQ.getTitle(a))&&void 0!==t?t:"New chat",r=(0,y.Z)(a,o,!0),d=r.resolvedTitle,u=r.isTypingEffect,h=(0,i.useContext)(f.QL),p=h.historyDisabled,m=h.toggleHistoryDisabled;return(0,s.jsx)(s.Fragment,{children:p?(0,s.jsxs)("button",{className:"flex cursor-pointer flex-row place-items-center items-center justify-center gap-3",onClick:function(){return m()},children:[(0,s.jsx)(w.ZP,{icon:c.$IY}),(0,s.jsx)(l.Z,(0,n._)({},Z.enableChatHistory))]}):u&&null!=d?(0,s.jsx)(v.Z,{text:d}):null!=d?d:(0,s.jsx)(l.Z,(0,n._)({},Z.newChat))})}var Z=(0,d.vU)({enableChatHistory:{id:"navigation.enableChatHistory",defaultMessage:"Enable chat history",description:"Enable chat history button label"},newChat:{id:"navigation.newChat",defaultMessage:"New chat",description:"New chat header title"}})},10664:function(e,t,a){a.d(t,{A3:function(){return _},yx:function(){return W},JS:function(){return I}});var n,s,o,r=a(96237),i=a(39324),c=a(81949),l=a(15858),d=a(61888),u=a(70079),g=a(94968),h=a(11084),p=a(82534),f=a(50795),m=a(82081),x=a(95954),y=a(39912),v=a(88798),k=a(32877),b=a(31621),w=a(46020),j=a(78931),C=a(52787),M=a(45248),B=u.useLayoutEffect,T=RegExp("```.*?\\n([\\s\\S]+?)\\n?```[^`]*$","gms");(n=s||(s={})).Core="Core",n.Chat="Chat",n.Settings="Settings";var N=(0,i._)({Mod:"mod",Comma:","},l.s),A=(o={},(0,r._)(o,N.Mod,/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?"⌘":"Ctrl"),(0,r._)(o,N.Comma,","),(0,r._)(o,N.Enter,"⏎"),(0,r._)(o,N.Escape,"Esc"),(0,r._)(o,N.ArrowUp,"↑"),(0,r._)(o,N.ArrowDown,"↓"),(0,r._)(o,N.ArrowLeft,"←"),(0,r._)(o,N.ArrowRight,"→"),(0,r._)(o,N.Backspace,"⌫"),(0,r._)(o,N.Delete,"⌦"),(0,r._)(o,N.Tab,"⇥"),(0,r._)(o,N.Control,"Ctrl"),(0,r._)(o,N.Shift,"Shift"),o),_=function(e){var t;return e.map(function(e){return null!==(t=A[e])&&void 0!==t?t:e})},S=(0,g.vU)({newChat:{id:"keyboardActions.newChat",defaultMessage:"Open new chat",description:"Keyboard shortcut to open a new chat"},focusPromptTextarea:{id:"keyboardActions.focusPromptTextarea",defaultMessage:"Focus chat input",description:"Keyboard shortcut to focus the chat input"},copyLastCodeBlock:{id:"keyboardActions.copyLastCodeBlock",defaultMessage:"Copy last code block",description:"Keyboard shortcut to copy the last code block in the chat"},copyLastResponse:{id:"keyboardActions.copyLastResponse",defaultMessage:"Copy last response",description:"Keyboard shortcut to copy the last response in the chat"},toggleCustomInstructions:{id:"keyboardActions.toggleCustomInstructions",defaultMessage:"Set custom instructions",description:"Keyboard shortcut to toggle custom instructions"},navigationToggle:{id:"keyboardActions.navigationToggle",defaultMessage:"Toggle sidebar",description:"Keyboard shortcut to toggle navigation"},deleteChat:{id:"keyboardActions.deleteChat",defaultMessage:"Delete chat",description:"Keyboard shortcut to delete chat"},toggleKeyboardActions:{id:"keyboardActions.toggleKeyboardActions",defaultMessage:"Show shortcuts",description:"Keyboard shortcut to toggle keyboard actions"}}),P=function(e){var t=e.resetThreadAction,a=e.clientThreadId,n=e.features;return[{key:"newChat",action:t||d.noop,actionMessageDescriptor:S.newChat,group:s.Core,keyboardBinding:[N.Mod,N.Shift,"o"]},{key:"focusPromptTextarea",action:y.g,actionMessageDescriptor:S.focusPromptTextarea,group:s.Chat,keyboardBinding:[N.Shift,N.Escape]},{key:"copyLastCodeBlock",action:function(){if(null!=a)for(var e=b.tQ.getThreadCurrentLeafId(a),t=b.tQ.getThreadConversationTurns(a,e),n=t.length-1;n>=0;n--){var s=t[n].messages.reduce(function(e,t){return null==t.err&&t.message.author.role===x.uU.Assistant&&"all"===t.message.recipient?e+(e?"\n\n":"")+(0,C.RR)(t.message):e},""),o=(0,c._)(s.matchAll(T)),r=o.length?o[o.length-1][1]:null;if(null!=r){(0,h.S)(r).then(function(){v.m.success("Copied code block to clipboard")});break}}},actionMessageDescriptor:S.copyLastCodeBlock,group:s.Chat,keyboardBinding:[N.Mod,N.Shift,";"],altKeyboardBindings:[[N.Mod,N.Shift,":"]]},{key:"copyLastResponse",action:function(){null!=a&&b.tQ.copyLastMessageToClipboard(a,"keyboard").then(function(){v.m.success("Last response copied to clipboard")})},actionMessageDescriptor:S.copyLastResponse,group:s.Chat,keyboardBinding:[N.Mod,N.Shift,"c"]},{key:"toggleCustomInstructions",action:function(){return w.vm.toggleModal(w.B.UserContext)},actionMessageDescriptor:S.toggleCustomInstructions,group:s.Settings,keyboardBinding:[N.Mod,N.Shift,"i"],enabled:n.has(k.Rw)||n.has(k.uo)},{key:"navigationToggle",action:function(){return w.vm.toggleDesktopNavCollapsed()},actionMessageDescriptor:S.navigationToggle,group:s.Core,keyboardBinding:[N.Mod,N.Shift,"s"]},{key:"deleteChat",action:function(){return w.vm.toggleModal(w.B.DeleteChatConfirmation)},actionMessageDescriptor:S.deleteChat,group:s.Chat,keyboardBinding:[N.Mod,N.Shift,N.Backspace],altKeyboardBindings:[[N.Mod,N.Shift,N.Delete]]},{key:"toggleKeyboardActions",action:function(){return w.vm.toggleModal(w.B.KeyboardActions)},actionMessageDescriptor:S.toggleKeyboardActions,group:s.Settings,keyboardBinding:[N.Mod,"/"]}]},Z=function(e){var t,a,n,s=(0,j.hz)().has(k.rk);return t=function(e){f.o.logEvent(m.a.keyboardShortcut,{keyboardActionKey:e.key}),p.U.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:e.key})},a={enabled:s},n=e.map(function(e){var t=e.keyboardBinding.join("+");if(e.altKeyboardBindings){t=[t];var a=e.altKeyboardBindings.map(function(e){return e.join("+")});t=t.concat(a)}return(0,M.ZP)(t,{byKey:!0})}),void B(function(){if((null==a?void 0:a.enabled)!==!1){var s=function(a){if(!a.repeat)for(var s=0;s<n.length;s++)n[s](a)&&(void 0===e[s].enabled||e[s].enabled)&&(a.preventDefault(),t(e[s]),e[s].action())},o=function(e){void 0!==e.key&&s(e)},r=document;return r.addEventListener("keydown",o),function(){r.removeEventListener("keydown",o)}}},[e,a])},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resetThreadAction,a=e.clientThreadId,n=(0,j.hz)();return(0,u.useMemo)(function(){return P({features:n,resetThreadAction:t,clientThreadId:a}).filter(function(e){var t=e.enabled;return void 0===t||t})},[a,n,t])},W=function(e){Z(I({resetThreadAction:e.resetThreadAction,clientThreadId:e.clientThreadId}))}}}]);